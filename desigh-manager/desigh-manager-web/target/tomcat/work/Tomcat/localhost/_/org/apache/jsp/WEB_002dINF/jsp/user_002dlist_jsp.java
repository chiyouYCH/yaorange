/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-04-19 13:24:38 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class user_002dlist_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("\n");
      out.write("\t<head>\n");
      out.write("\t\t<meta charset=\"UTF-8\">\n");
      out.write("\t\t<title>用户信息</title>\n");
      out.write("\t\t<link rel=\"stylesheet\" href=\"plugins/layui/css/layui.css\" media=\"all\" />\n");
      out.write("\t\t<link rel=\"stylesheet\" href=\"css/global.css\" media=\"all\">\n");
      out.write("\t\t<link rel=\"stylesheet\" href=\"plugins/font-awesome/css/font-awesome.min.css\">\n");
      out.write("\t\t<link rel=\"stylesheet\" href=\"css/table.css\" />\n");
      out.write("\t</head>\n");
      out.write("\n");
      out.write("\t<body>\n");
      out.write("\t\t<div class=\"admin-main\">\n");
      out.write("\n");
      out.write("\t\t\t<blockquote class=\"layui-elem-quote\">\n");
      out.write("\t\t\t\t<a href=\"javascript:;\" class=\"layui-btn layui-btn-small\" id=\"add\">\n");
      out.write("\t\t\t\t\t<i class=\"layui-icon\">&#xe608;</i> 添加用户\n");
      out.write("\t\t\t\t</a>\n");
      out.write("\t\t\t\t<a href=\"#\" class=\"layui-btn layui-btn-small\" id=\"getSelected\">\n");
      out.write("\t\t\t\t\t<i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i> 删除所选\n");
      out.write("\t\t\t\t</a>\n");
      out.write("\t\t\t\t<a href=\"user-list\" class=\"layui-btn layui-btn-small\" id=\"fluse\">\n");
      out.write("\t\t\t\t\t<i class=\"layui-icon\">&#x1002;</i> 刷新\n");
      out.write("\t\t\t\t</a>\n");
      out.write("\t\t\t\t<form class=\"layui-form\" style=\"float:right;\">\n");
      out.write("\t                <div class=\"layui-form-item\" style=\"margin:0;\">\n");
      out.write("\t                    <div class=\"layui-input-inline\">\n");
      out.write("\t                        <input type=\"text\" name=\"name\" placeholder=\"请输入用户名..\" autocomplete=\"off\" class=\"layui-input\">\n");
      out.write("\t                    </div>\n");
      out.write("\t                    <div class=\"layui-form-mid layui-word-aux\" style=\"padding:0;\">\n");
      out.write("\t                        <button lay-filter=\"search\" class=\"layui-btn\" lay-submit  id=\"search\"><i class=\"fa fa-search\" aria-hidden=\"true\"></i> 查询</button>\n");
      out.write("\t                    </div>\n");
      out.write("\t                </div>\n");
      out.write("            \t</form>\n");
      out.write("            \t\n");
      out.write("\t\t\t</blockquote>\n");
      out.write("\t\t\t<fieldset class=\"layui-elem-field\">\n");
      out.write("\t\t\t\t<legend>班级列表</legend>\n");
      out.write("\t\t\t\t<div class=\"layui-field-box layui-form\">\n");
      out.write("\t\t\t\t\t<table class=\"layui-table admin-table\">\n");
      out.write("\t\t\t\t\t\t<thead>\n");
      out.write("\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t<th style=\"width: 30px;\"><input type=\"checkbox\" lay-filter=\"allselector\" lay-skin=\"primary\"></th>\n");
      out.write("\t\t\t\t\t\t\t\t<th>用户名</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th>身份</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th>添加时间</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th>操作</th>\n");
      out.write("\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t</thead>\n");
      out.write("\t\t\t\t\t\t<tbody id=\"content\">\n");
      out.write("\t\t\t\t\t\t</tbody>\n");
      out.write("\t\t\t\t\t</table>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</fieldset>\n");
      out.write("\t\t\t<div class=\"admin-table-page\">\n");
      out.write("\t\t\t\t<div id=\"paged\" class=\"page\">\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t</div>\n");
      out.write("\t\t<!--模板-->\n");
      out.write("\t\t<script type=\"text/html\" id=\"tpl\">\n");
      out.write("\t\t\t{{# layui.each(d.list, function(index, item){ }}\n");
      out.write("\t\t\t<tr>\n");
      out.write("\t\t\t\t<td><input type=\"checkbox\" lay-skin=\"primary\"></td>\n");
      out.write("\t\t\t\t<td>{{ item.username }}</td>\t\t\t\t\n");
      out.write("                <td>{{ null==item.code?'':layui.laytpl.toCode(item.code)}}</td>\n");
      out.write("\t\t\t\t<td>{{ null==item.createtime?'':layui.laytpl.toDateString(item.creartetime,'yyyy-MM-dd') }}</td>\n");
      out.write("\t\t\t\t<td>\n");
      out.write("\t\t\t\t\t<a href=\"javascript:;\" data-id=\"{{ item.id }}\" data-opt=\"del\" class=\"layui-btn layui-btn-danger layui-btn-mini\">删除</a>\n");
      out.write("\t\t\t\t</td>\n");
      out.write("\t\t\t</tr>\n");
      out.write("           \n");
      out.write("\t\t\t{{# }); }}\n");
      out.write("\t\t</script>\n");
      out.write("\t\t<script type=\"text/javascript\" src=\"plugins/layui/layui.js\"></script> \n");
      out.write("\t\t<script>\n");
      out.write("\t\t\tlayui.config({\n");
      out.write("\t\t\t\tbase: 'js/'\n");
      out.write("\t\t\t});\n");
      out.write("\n");
      out.write("\t\t\tlayui.use(['paging', 'form','laydate'], function() {\n");
      out.write("\t\t\t\tvar $ = layui.jquery,\n");
      out.write("\t\t\t\t\tpaging = layui.paging(),\n");
      out.write("\t\t\t\t\tlayerTips = parent.layer === undefined ? layui.layer : parent.layer, //获取父窗口的layer对象\n");
      out.write("\t\t\t\t\tlayer = layui.layer, //获取当前窗口的layer对象\n");
      out.write("\t\t\t\t\tlaydate = layui.laydate,\n");
      out.write("\t\t\t\t\tform = layui.form();\n");
      out.write("\t\t\t\t    layui.laytpl.toDateString = function(d, format){\n");
      out.write("\t\t\t\t\t  var date = new Date(d || new Date())\n");
      out.write("\t\t\t\t\t  ,ymd = [\n");
      out.write("\t\t\t\t\t    this.digit(date.getFullYear(), 4)\n");
      out.write("\t\t\t\t\t    ,this.digit(date.getMonth() + 1)\n");
      out.write("\t\t\t\t\t    ,this.digit(date.getDate())\n");
      out.write("\t\t\t\t\t  ]\n");
      out.write("\t\t\t\t\t  ,hms = [\n");
      out.write("\t\t\t\t\t    this.digit(date.getHours())\n");
      out.write("\t\t\t\t\t    ,this.digit(date.getMinutes())\n");
      out.write("\t\t\t\t\t    ,this.digit(date.getSeconds())\n");
      out.write("\t\t\t\t\t  ];\n");
      out.write("\n");
      out.write("\t\t\t\t\t  format = format || 'yyyy-MM-dd HH:mm:ss';\n");
      out.write("\n");
      out.write("\t\t\t\t\t  return format.replace(/yyyy/g, ymd[0])\n");
      out.write("\t\t\t\t\t  .replace(/MM/g, ymd[1])\n");
      out.write("\t\t\t\t\t  .replace(/dd/g, ymd[2])\n");
      out.write("\t\t\t\t\t  .replace(/HH/g, hms[0])\n");
      out.write("\t\t\t\t\t  .replace(/mm/g, hms[1])\n");
      out.write("\t\t\t\t\t  .replace(/ss/g, hms[2]);\n");
      out.write("\t\t\t\t\t};\n");
      out.write("\t\t\t\t    layui.laytpl.toCode = function(code){\n");
      out.write("\t\t\t\t\t\t  if(code==0){\n");
      out.write("\t\t\t\t\t\t\t  return '管理员';\n");
      out.write("\t\t\t\t\t\t  }else if(code==1){\n");
      out.write("\t\t\t\t\t\t\t  return '教师';\n");
      out.write("\t\t\t\t\t\t  }else{\n");
      out.write("\t\t\t\t\t\t\t  return '学生';\n");
      out.write("\t\t\t\t\t\t  }\n");
      out.write("\t\t\t\t\t\t};\n");
      out.write("\t\t\t\t\t \n");
      out.write("\t\t\t\t\t//数字前置补零\n");
      out.write("\t\t\t\t\tlayui.laytpl.digit = function(num, length, end){\n");
      out.write("\t\t\t\t\t  var str = '';\n");
      out.write("\t\t\t\t\t  num = String(num);\n");
      out.write("\t\t\t\t\t  length = length || 2;\n");
      out.write("\t\t\t\t\t  for(var i = num.length; i < length; i++){\n");
      out.write("\t\t\t\t\t    str += '0';\n");
      out.write("\t\t\t\t\t  }\n");
      out.write("\t\t\t\t\t  return num < Math.pow(10, length) ? str + (num|0) : num;\n");
      out.write("\t\t\t\t\t};\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('#search').on('click', function() {\n");
      out.write("\t\t\t\t\tvar $this = $(this);\n");
      out.write("\t\t\t\t\tvar name = $this.prev('input[username=username]').val();\n");
      out.write("\t\t\t\t\tif(name === '') {\n");
      out.write("\t\t\t\t\t\tlayer.msg('请输入关键字！');\n");
      out.write("\t\t\t\t\t\treturn;\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t//调用get方法获取数据\n");
      out.write("\t\t\t\t\tpaging.get({\n");
      out.write("\t\t\t\t\t\tt: Math.random(),\n");
      out.write("\t\t\t\t\t\tname: name //获取输入的关键字。\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t});\n");
      out.write("                paging.init({\n");
      out.write("                    openWait: true,\n");
      out.write("                    url: 'getUserList?name=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${name}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("', //地址\n");
      out.write("\t\t\t\t\telem: '#content', //内容容器\n");
      out.write("\t\t\t\t\tparams: { //发送到服务端的参数\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\ttype: 'GET',\n");
      out.write("\t\t\t\t\ttempElem: '#tpl', //模块容器\n");
      out.write("\t\t\t\t\tpageConfig: { //分页参数配置\n");
      out.write("\t\t\t\t\t\telem: '#paged', //分页容器\n");
      out.write("\t\t\t\t\t\tpageSize: 4 //分页大小\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\tsuccess: function() { //渲染成功的回调\n");
      out.write("\t\t\t\t\t\t//alert('渲染成功');\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\tfail: function(msg) { //获取数据失败的回调\n");
      out.write("\t\t\t\t\t\t//alert('获取数据失败')\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\tcomplate: function() { //完成的回调\n");
      out.write("\t\t\t\t\t\t//alert('处理完成');\n");
      out.write("\t\t\t\t\t\t//重新渲染复选框\n");
      out.write("\t\t\t\t\t\tform.render('checkbox');\n");
      out.write("\t\t\t\t\t\tform.on('checkbox(allselector)', function(data) {\n");
      out.write("\t\t\t\t\t\t\tvar elem = data.elem;\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t$('#content').children('tr').each(function() {\n");
      out.write("\t\t\t\t\t\t\t\tvar $that = $(this);\n");
      out.write("\t\t\t\t\t\t\t\t//全选或反选\n");
      out.write("\t\t\t\t\t\t\t\t$that.children('td').eq(0).children('input[type=checkbox]')[0].checked = elem.checked;\n");
      out.write("\t\t\t\t\t\t\t\tform.render('checkbox');\n");
      out.write("\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t//绑定所有删除按钮事件\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t$('#content').children('tr').each(function() {\n");
      out.write("\t\t\t\t\t\t\tvar $that = $(this);\n");
      out.write("\t\t\t\t\t\t\t$that.children('td:last-child').children('a[data-opt=del]').on('click', function() {\n");
      out.write("\t\t\t\t\t\t\t\tvar id = $(this).data('id');// 获取id\n");
      out.write("\t\t\t\t\t\t\t\tlayer.confirm('您确认删除吗?', {icon: 3, title:'提示'}, function(index){\n");
      out.write("\t\t\t\t\t\t\t\t\t  //do something\n");
      out.write("\t\t\t\t\t\t\t\t\t  $.get(\"deleteUser\",{id:id},function(data){\n");
      out.write("\t\t\t\t\t\t\t\t\t//返回结果并刷新页面\n");
      out.write("\t\t\t\t\t\t\t\t\t   layerTips.msg(data.msg,{time:500},function(){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   layerTips.close(index);\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlocation.reload(); //刷新\n");
      out.write("\t\t\t\t\t\t\t\t\t   });\n");
      out.write("\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\t layer.close(index);\n");
      out.write("\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t});\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t//绑定所有编辑按钮事件\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t$('#content').children('tr').each(function() {\n");
      out.write("\t\t\t\t\t\t\tvar $that = $(this);\n");
      out.write("\t\t\t\t\t\t\t$that.children('td:last-child').children('a[data-opt=edit]').on('click', function() {\n");
      out.write("\t\t\t\t\t\t\t\tvar id = $(this).data('id');\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\tif(addBoxIndex !== -1)\n");
      out.write("\t\t\t\t\t\t\t\t\treturn;\n");
      out.write("\t\t\t\t\t\t\t\t//本表单通过ajax加载 --以模板的形式，当然你也可以直接写在页面上读取\n");
      out.write("\t\t\t\t\t\t\t\t$.get('user-edit', {id:id}, function(form) {\n");
      out.write("\t\t\t\t\t\t\t\t\taddBoxIndex = layer.open({\n");
      out.write("\t\t\t\t\t\t\t\t\t\ttype: 1,\n");
      out.write("\t\t\t\t\t\t\t\t\t\ttitle: '修改用户',\n");
      out.write("\t\t\t\t\t\t\t\t\t\tcontent: form,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tbtn: ['保存', '取消'],\n");
      out.write("\t\t\t\t\t\t\t\t\t\tshade: false,\n");
      out.write("\t\t\t\t\t\t\t\t\t\toffset: 'auto',\n");
      out.write("\t\t\t\t\t\t\t\t\t\tarea: ['520px', '450px'],\n");
      out.write("\t\t\t\t\t\t\t\t\t\tzIndex: 19891015,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tmaxmin: true,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tyes: function(index) {\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t//触发表单的提交事件\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t$('form.layui-form').find('button[lay-filter=edit]').click();\n");
      out.write("\t\t\t\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\t\t\t\tfull: function(elem) {\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tvar win = window.top === window.self ? window : parent.window;\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t$(win).on('resize', function() {\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tvar $this = $(this);\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\telem.width($this.width()).height($this.height()).css({\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tleft: 0\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\telem.children('div.layui-layer-content').height($this.height() - 95);\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\t\t\t\tsuccess: function(layero, index) {\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t//弹出窗口成功后渲染表单\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tvar form = layui.form();\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tform.render();\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tform.on('submit(edit)', function(data) {\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t//这里可以写ajax方法提交表单\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   type: \"POST\",\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   url: \"updateUser\",\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   data: data.field,\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   dataType: \"json\",\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   success: function(data){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   //返回结果并刷新页面\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   layerTips.msg(data.msg,{time:500},function(){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t   layerTips.close(index);\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.reload(); //刷新\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   })\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   }\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\treturn false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\t\t\t\tend: function() {\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\taddBoxIndex = -1;\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t});\t\n");
      out.write("\t\t\t\t\t\t\t});\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t//删除选择的列\n");
      out.write("\t\t\t\t$('#getSelected').on('click', function() {\n");
      out.write("\t\t\t\t\tvar ids = '';\n");
      out.write("\t\t\t\t\t$('#content').children('tr').each(function() {\n");
      out.write("\t\t\t\t\t\tvar $that = $(this);\n");
      out.write("\t\t\t\t\t\tvar $cbx = $that.children('td').eq(0).children('input[type=checkbox]')[0].checked;\n");
      out.write("\t\t\t\t\t\tif($cbx) {\n");
      out.write("\t\t\t\t\t\t\tvar n = $that.children('td:last-child').children('a[data-opt=del]').data('id');\n");
      out.write("\t\t\t\t\t\t\tids += n + ',';\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t//后台删除内容\n");
      out.write("\t\t\t\t\tlayer.confirm('您确认删除吗?', {icon: 3, title:'提示'}, function(index){\n");
      out.write("\t\t\t\t\t\t  //do something\n");
      out.write("\t\t\t\t\t\t  $.get(\"deleteAllUser\",{ids:ids},function(data){\n");
      out.write("\t\t\t\t\t\t//返回结果并刷新页面\n");
      out.write("\t\t\t\t\t\t   layerTips.msg(data.msg,{time:500},function(){\n");
      out.write("\t\t\t\t\t\t\t   layerTips.close(index);\n");
      out.write("\t\t\t\t\t\t\t\tlocation.reload(); //刷新\n");
      out.write("\t\t\t\t\t\t   });\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t layer.close(index);\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\n");
      out.write("\t\t\t\tvar addBoxIndex = -1;\n");
      out.write("\t\t\t\t$('#add').on('click', function() {\n");
      out.write("\t\t\t\t\tif(addBoxIndex !== -1)\n");
      out.write("\t\t\t\t\t\treturn;\n");
      out.write("\t\t\t\t\t//本表单通过ajax加载 --以模板的形式，当然你也可以直接写在页面上读取\n");
      out.write("\t\t\t\t\t$.get('user-add', null, function(form) {\n");
      out.write("\t\t\t\t\t\taddBoxIndex = layer.open({\n");
      out.write("\t\t\t\t\t\t\ttype: 1,\n");
      out.write("\t\t\t\t\t\t\ttitle: '添加用户',\n");
      out.write("\t\t\t\t\t\t\tcontent: form,\n");
      out.write("\t\t\t\t\t\t\tbtn: ['保存', '取消'],\n");
      out.write("\t\t\t\t\t\t\tshade: false,\n");
      out.write("\t\t\t\t\t\t\toffset: 'auto',\n");
      out.write("\t\t\t\t\t\t\tarea: ['400px', '360px'],\n");
      out.write("\t\t\t\t\t\t\tzIndex: 19891015,\n");
      out.write("\t\t\t\t\t\t\tmaxmin: true,\n");
      out.write("\t\t\t\t\t\t\tyes: function(index) {\n");
      out.write("\t\t\t\t\t\t\t\t//触发表单的提交事件\n");
      out.write("\t\t\t\t\t\t\t\t$('form.layui-form').find('button[lay-filter=add]').click();\n");
      out.write("\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\tfull: function(elem) {\n");
      out.write("\t\t\t\t\t\t\t\tvar win = window.top === window.self ? window : parent.window;\n");
      out.write("\t\t\t\t\t\t\t\t$(win).on('resize', function() {\n");
      out.write("\t\t\t\t\t\t\t\t\tvar $this = $(this);\n");
      out.write("\t\t\t\t\t\t\t\t\telem.width($this.width()).height($this.height()).css({\n");
      out.write("\t\t\t\t\t\t\t\t\t\ttop: 0,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tleft: 0\n");
      out.write("\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\telem.children('div.layui-layer-content').height($this.height() - 95);\n");
      out.write("\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\tsuccess: function(layero, index) {\n");
      out.write("\t\t\t\t\t\t\t\t//弹出窗口成功后渲染表单\n");
      out.write("\t\t\t\t\t\t\t\tvar form = layui.form();\n");
      out.write("\t\t\t\t\t\t\t\tform.render();\n");
      out.write("\t\t\t\t\t\t\t\tform.on('submit(add)', function(data) {\n");
      out.write("\t\t\t\t\t\t\t\t\t//这里可以写ajax方法提交表单\n");
      out.write("\t\t\t\t\t\t\t\t\t$.ajax({\n");
      out.write("\t\t\t\t\t\t\t\t\t   type: \"POST\",\n");
      out.write("\t\t\t\t\t\t\t\t\t   url: \"saveUser\",\n");
      out.write("\t\t\t\t\t\t\t\t\t   data: data.field,\n");
      out.write("\t\t\t\t\t\t\t\t\t   dataType: \"json\",\n");
      out.write("\t\t\t\t\t\t\t\t\t   success: function(data){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   layerTips.msg(data.msg,{time:500},function(){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t   layerTips.close(index);\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tlocation.reload(); //刷新\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   })\n");
      out.write("\t\t\t\t\t\t\t\t\t   }\n");
      out.write("\t\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t\treturn false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\t\t\t//console.log(layero, index);\n");
      out.write("\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\tend: function() {\n");
      out.write("\t\t\t\t\t\t\t\taddBoxIndex = -1;\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t});\n");
      out.write("\n");
      out.write("\t\t\t\t$('#import').on('click', function() {\n");
      out.write("\t\t\t\t\tvar that = this;\n");
      out.write("\t\t\t\t\tvar index = layer.tips('只想提示地精准些', that, { tips: [1, 'white'] });\n");
      out.write("\t\t\t\t\t$('#layui-layer' + index).children('div.layui-layer-content').css('color', '#000000');\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t});\n");
      out.write("\t\t</script>\n");
      out.write("\t</body>\n");
      out.write("\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
